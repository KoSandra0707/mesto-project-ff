(()=>{"use strict";var e=function(e){e.remove()},t=function(e,t,r,o){var c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function(e,t,r){var o=e.cloneNode(!0),c=o.querySelector(".card__like-button"),a=o.querySelector(".card__image");return c.addEventListener("click",(function(){return n(c)})),o.querySelector(".card__delete-button").addEventListener("click",(function(){return r.deleteCard(o)})),a.addEventListener("click",(function(){return r.previewCard(t)})),o.querySelector(".card__title").textContent=t.name,a.src=t.link,a.alt=t.name,o}(t,r,o);c?e.prepend(a):e.appendChild(a)},n=function(e){e.classList.toggle("card__like-button_is-active")},r=function(e){"Escape"===e.key&&e.currentTarget.querySelectorAll(".popup").forEach((function(e){c(e)}))},o=function(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",r)},c=function(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",r)},a=document.querySelector("#card-template").content.querySelector(".card"),d=document.querySelector(".places__list"),i=document.querySelector(".profile__title"),l=document.querySelector(".profile__description"),u=document.forms["edit-profile"],p=document.forms["new-place"],s=document.querySelector(".popup_type_image"),m=document.querySelector(".popup_type_edit"),f=document.querySelector(".popup_type_new-card"),v=document.querySelector(".profile__edit-button"),y=document.querySelector(".profile__add-button"),_=document.querySelectorAll(".popup__close"),k=s.querySelector(".popup__image"),h=s.querySelector(".popup__caption"),g=function(e){k.src=e.link,k.alt=e.name,h.textContent=e.name,o(s)};v.addEventListener("click",(function(){o(m),function(e,t){for(var n=0;n<e.elements.length;n++){var r=e.elements[n];"input"===r.nodeName.toLowerCase()&&t.hasOwnProperty(r.name)&&(r.value=t[r.name])}}(u,{name:i.textContent,description:l.textContent})})),y.addEventListener("click",(function(){o(f)})),[s,m,f].forEach((function(e){e.addEventListener("click",(function(t){t.currentTarget===t.target&&c(e)}))})),u.addEventListener("submit",(function(e){e.preventDefault(),i.textContent=u.elements.name.value,l.textContent=u.elements.description.value,c(m)})),p.addEventListener("submit",(function(n){n.preventDefault(),t(d,a,{link:p.elements.link.value,name:p.elements["place-name"].value},{deleteCard:e,previewCard:g},!0),function(e){for(var t=0;t<e.elements.length;t++){var n=e.elements[t];"input"===n.nodeName.toLowerCase()&&(n.value="")}}(p),c(f)})),_.forEach((function(e){var t=e.closest(".popup");e.addEventListener("click",(function(){return c(t)}))})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(n){t(d,a,n,{deleteCard:e,previewCard:g})}))})();